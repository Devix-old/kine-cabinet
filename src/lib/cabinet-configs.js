/**
 * Cabinet Configuration System
 * Defines settings, features, and content for each type of healthcare cabinet
 */

export const CABINET_CONFIGS = {
  KINESITHERAPIE: {
    name: "Kin√©sith√©rapie",
    displayName: "Cabinet de Kin√©sith√©rapie",
    description: "Solution compl√®te pour la gestion de votre cabinet de kin√©sith√©rapie",
    icon: "ü¶¥", // Bone emoji for physiotherapy
    color: "blue",
    features: [
      { id: "patients", name: "Gestion patients", icon: "üë•", description: "G√©rez vos patients efficacement" },
      { id: "appointments", name: "Rendez-vous", icon: "üìÖ", description: "Planifiez et suivez vos rendez-vous" },
      { id: "treatments", name: "Suivi traitements", icon: "üí™", description: "Suivez l'√©volution des traitements" }
    ],
    hero: {
      title: "G√©rez votre cabinet de kin√©sith√©rapie",
      subtitle: "en toute simplicit√©",
      description: "Optimisez la gestion de vos patients et rendez-vous avec notre solution intuitive d√©di√©e aux kin√©sith√©rapeutes.",
      cta: "Essai gratuit 14 jours"
    },
    modules: {
      patients: { enabled: true, required: true },
      appointments: { enabled: true, required: true },
      treatments: { enabled: true, required: true },
      medicalRecords: { enabled: true, required: true },
      billing: { enabled: false, required: false },
      statistics: { enabled: true, required: false },
      users: { enabled: true, required: true },
      settings: { enabled: true, required: true }
    },
    appointmentTypes: [
      { value: "CONSULTATION", label: "Consultation", color: "blue" },
      { value: "SEANCE", label: "S√©ance", color: "green" },
      { value: "BILAN", label: "Bilan", color: "purple" },
      { value: "SUIVI", label: "Suivi", color: "orange" },
      { value: "URGENCE", label: "Urgence", color: "red" }
    ],
    treatmentTypes: [
      { value: "REEDUCATION", label: "R√©√©ducation", color: "blue" },
      { value: "MASSAGE", label: "Massage", color: "green" },
      { value: "ELECTROTHERAPIE", label: "√âlectroth√©rapie", color: "purple" },
      { value: "KINESITHERAPIE_RESPIRATOIRE", label: "Kin√©sith√©rapie respiratoire", color: "orange" },
      { value: "REEDUCATION_FONCTIONNELLE", label: "R√©√©ducation fonctionnelle", color: "indigo" }
    ],
    medicalRecordTypes: [
      { value: "DIAGNOSTIC", label: "Diagnostic", color: "blue" },
      { value: "PRESCRIPTION", label: "Prescription", color: "green" },
      { value: "BILAN", label: "Bilan", color: "purple" },
      { value: "COMPTE_RENDU", label: "Compte rendu", color: "orange" },
      { value: "SUIVI", label: "Suivi", color: "indigo" }
    ],
    terminology: {
      patient: "patient",
      appointment: "rendez-vous",
      treatment: "traitement",
      session: "s√©ance",
      medicalRecord: "dossier m√©dical",
      practitioner: "kin√©sith√©rapeute",
      cabinet: "cabinet de kin√©sith√©rapie"
    }
  },

  DENTAIRE: {
    name: "Dentaire",
    displayName: "Cabinet Dentaire",
    description: "Solution compl√®te pour la gestion de votre cabinet dentaire",
    icon: "ü¶∑", // Tooth emoji for dental
    color: "teal",
    features: [
      { id: "patients", name: "Gestion patients", icon: "üë•", description: "G√©rez vos patients efficacement" },
      { id: "appointments", name: "Rendez-vous", icon: "üìÖ", description: "Planifiez et suivez vos rendez-vous" },
      { id: "treatments", name: "Soins dentaires", icon: "ü¶∑", description: "G√©rez les soins et traitements dentaires" }
    ],
    hero: {
      title: "G√©rez votre cabinet dentaire",
      subtitle: "en toute simplicit√©",
      description: "Solution compl√®te pour la gestion de votre cabinet dentaire et le suivi de vos patients.",
      cta: "Essai gratuit 14 jours"
    },
    modules: {
      patients: { enabled: true, required: true },
      appointments: { enabled: true, required: true },
      treatments: { enabled: true, required: true },
      medicalRecords: { enabled: true, required: true },
      billing: { enabled: false, required: false },
      statistics: { enabled: true, required: false },
      users: { enabled: true, required: true },
      settings: { enabled: true, required: true }
    },
    appointmentTypes: [
      { value: "CONSULTATION", label: "Consultation", color: "blue" },
      { value: "DETARTRAGE", label: "D√©tartrage", color: "green" },
      { value: "CARIE", label: "Carie", color: "red" },
      { value: "IMPLANT", label: "Implant", color: "purple" },
      { value: "ORTHODONTIE", label: "Orthodontie", color: "orange" },
      { value: "URGENCE", label: "Urgence", color: "red" }
    ],
    treatmentTypes: [
      { value: "SOINS_CONSERVATEURS", label: "Soins conservateurs", color: "blue" },
      { value: "PROTHESES", label: "Proth√®ses", color: "green" },
      { value: "CHIRURGIE", label: "Chirurgie", color: "red" },
      { value: "ORTHODONTIE", label: "Orthodontie", color: "purple" },
      { value: "IMPLANTOLOGIE", label: "Implantologie", color: "orange" }
    ],
    medicalRecordTypes: [
      { value: "DIAGNOSTIC", label: "Diagnostic", color: "blue" },
      { value: "PRESCRIPTION", label: "Prescription", color: "green" },
      { value: "BILAN", label: "Bilan", color: "purple" },
      { value: "COMPTE_RENDU", label: "Compte rendu", color: "orange" },
      { value: "SUIVI", label: "Suivi", color: "indigo" }
    ],
    terminology: {
      patient: "patient",
      appointment: "rendez-vous",
      treatment: "soin",
      session: "s√©ance",
      medicalRecord: "dossier dentaire",
      practitioner: "dentiste",
      cabinet: "cabinet dentaire"
    }
  },

  MEDICAL_GENERAL: {
    name: "M√©decine G√©n√©rale",
    displayName: "Cabinet de M√©decine G√©n√©rale",
    description: "Solution compl√®te pour la gestion de votre cabinet de m√©decine g√©n√©rale",
    icon: "üè•", // Hospital emoji for general medicine
    color: "green",
    features: [
      { id: "patients", name: "Gestion patients", icon: "üë•", description: "G√©rez vos patients efficacement" },
      { id: "appointments", name: "Rendez-vous", icon: "üìÖ", description: "Planifiez et suivez vos rendez-vous" },
      { id: "medicalRecords", name: "Dossiers m√©dicaux", icon: "üìã", description: "G√©rez les dossiers m√©dicaux" }
    ],
    hero: {
      title: "G√©rez votre cabinet m√©dical",
      subtitle: "en toute simplicit√©",
      description: "Solution compl√®te pour la gestion de votre cabinet de m√©decine g√©n√©rale.",
      cta: "Essai gratuit 14 jours"
    },
    modules: {
      patients: { enabled: true, required: true },
      appointments: { enabled: true, required: true },
      treatments: { enabled: false, required: false },
      medicalRecords: { enabled: true, required: true },
      billing: { enabled: false, required: false },
      statistics: { enabled: true, required: false },
      users: { enabled: true, required: true },
      settings: { enabled: true, required: true }
    },
    appointmentTypes: [
      { value: "CONSULTATION", label: "Consultation", color: "blue" },
      { value: "VISITE", label: "Visite", color: "green" },
      { value: "URGENCE", label: "Urgence", color: "red" },
      { value: "SUIVI", label: "Suivi", color: "orange" }
    ],
    treatmentTypes: [],
    medicalRecordTypes: [
      { value: "DIAGNOSTIC", label: "Diagnostic", color: "blue" },
      { value: "PRESCRIPTION", label: "Prescription", color: "green" },
      { value: "BILAN", label: "Bilan", color: "purple" },
      { value: "COMPTE_RENDU", label: "Compte rendu", color: "orange" },
      { value: "SUIVI", label: "Suivi", color: "indigo" }
    ],
    terminology: {
      patient: "patient",
      appointment: "rendez-vous",
      treatment: "traitement",
      session: "consultation",
      medicalRecord: "dossier m√©dical",
      practitioner: "m√©decin",
      cabinet: "cabinet m√©dical"
    }
  },

  CARDIOLOGIE: {
    name: "Cardiologie",
    displayName: "Cabinet de Cardiologie",
    description: "Solution compl√®te pour la gestion de votre cabinet de cardiologie",
    icon: "‚ù§Ô∏è", // Heart emoji for cardiology
    color: "red",
    features: [
      { id: "patients", name: "Gestion patients", icon: "üë•", description: "G√©rez vos patients efficacement" },
      { id: "appointments", name: "Rendez-vous", icon: "üìÖ", description: "Planifiez et suivez vos rendez-vous" },
      { id: "medicalRecords", name: "Dossiers cardiologiques", icon: "üìã", description: "G√©rez les dossiers cardiologiques" }
    ],
    hero: {
      title: "G√©rez votre cabinet de cardiologie",
      subtitle: "en toute simplicit√©",
      description: "Solution compl√®te pour la gestion de votre cabinet de cardiologie.",
      cta: "Essai gratuit 14 jours"
    },
    modules: {
      patients: { enabled: true, required: true },
      appointments: { enabled: true, required: true },
      treatments: { enabled: false, required: false },
      medicalRecords: { enabled: true, required: true },
      billing: { enabled: false, required: false },
      statistics: { enabled: true, required: false },
      users: { enabled: true, required: true },
      settings: { enabled: true, required: true }
    },
    appointmentTypes: [
      { value: "CONSULTATION", label: "Consultation", color: "blue" },
      { value: "ECG", label: "ECG", color: "red" },
      { value: "ECHOGRAPHIE", label: "√âchographie", color: "purple" },
      { value: "SUIVI", label: "Suivi", color: "orange" },
      { value: "URGENCE", label: "Urgence", color: "red" }
    ],
    treatmentTypes: [],
    medicalRecordTypes: [
      { value: "DIAGNOSTIC", label: "Diagnostic", color: "blue" },
      { value: "PRESCRIPTION", label: "Prescription", color: "green" },
      { value: "BILAN", label: "Bilan", color: "purple" },
      { value: "COMPTE_RENDU", label: "Compte rendu", color: "orange" },
      { value: "SUIVI", label: "Suivi", color: "indigo" }
    ],
    terminology: {
      patient: "patient",
      appointment: "rendez-vous",
      treatment: "traitement",
      session: "consultation",
      medicalRecord: "dossier cardiologique",
      practitioner: "cardiologue",
      cabinet: "cabinet de cardiologie"
    }
  }
}

/**
 * Get cabinet configuration by type
 * @param {string} cabinetType - The cabinet type
 * @returns {Object} Cabinet configuration
 */
export function getCabinetConfig(cabinetType) {
  return CABINET_CONFIGS[cabinetType] || CABINET_CONFIGS.KINESITHERAPIE
}

/**
 * Get all available cabinet types
 * @returns {Array} Array of cabinet type objects
 */
export function getAvailableCabinetTypes() {
  return Object.entries(CABINET_CONFIGS).map(([key, config]) => ({
    value: key,
    ...config
  }))
}

/**
 * Get enabled modules for a cabinet type
 * @param {string} cabinetType - The cabinet type
 * @returns {Array} Array of enabled module keys
 */
export function getEnabledModules(cabinetType) {
  const config = getCabinetConfig(cabinetType)
  if (!config?.modules) return []
  
  return Object.entries(config.modules)
    .filter(([_, module]) => module.enabled)
    .map(([key, _]) => key)
}

/**
 * Get required modules for a cabinet type
 * @param {string} cabinetType - The cabinet type
 * @returns {Array} Array of required module keys
 */
export function getRequiredModules(cabinetType) {
  const config = getCabinetConfig(cabinetType)
  if (!config?.modules) return []
  
  return Object.entries(config.modules)
    .filter(([_, module]) => module.required)
    .map(([key, _]) => key)
}
